{"version":3,"sources":["./src/app/pages/admin/upload-materials/upload-materials.page.html","./src/app/pages/admin/upload-materials/upload-materials.module.ts","./src/app/pages/admin/upload-materials/upload-materials.page.scss","./src/app/pages/admin/upload-materials/upload-materials.page.ts"],"names":[],"mappings":"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","file":"pages-admin-upload-materials-upload-materials-module-es5.js","sourcesContent":["module.exports = \"<ion-header no-border class=\\\"animated fadeInDown\\\">\\n  <ion-toolbar color='dark' mode=\\\"ios\\\">\\n    <ion-title>Upload Materials</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n      </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class='ion-padding material-upload'>\\n  <form>\\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label>Material Owner</ion-label>\\n          <ion-select mode=\\\"ios\\\" interface=\\\"action-sheet\\\" placeholder=\\\"Select Owner\\\" name=\\\"owner\\\" [selectedText]=\\\"owner\\\" [(ngModel)]=\\\"owner\\\">\\n            <ion-select-option *ngFor=\\\"let mowner of materialOwner\\\" value=\\\"{{mowner.name}}\\\">\\n              {{mowner.name}}\\n            </ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label>Material Type</ion-label>\\n          <ion-select mode=\\\"ios\\\" interface=\\\"action-sheet\\\" placeholder=\\\"Select Type\\\" name=\\\"type\\\" [selectedText]=\\\"type\\\" [(ngModel)]=\\\"type\\\">\\n            <ion-select-option *ngFor=\\\"let mtype of materialType\\\" value=\\\"{{mtype.name}}\\\">\\n              {{mtype.name}}\\n            </ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Material Name: </ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"name\\\" mode=\\\"md\\\" [(ngModel)]=\\\"name\\\" placeholder=\\\"AU9 Material\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Material ID: </ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"mid\\\" mode=\\\"md\\\" [(ngModel)]=\\\"mid\\\" placeholder=\\\"AU9\\\" style=\\\"text-transform: uppercase;\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Material Color: </ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"color\\\" mode=\\\"md\\\" [(ngModel)]=\\\"color\\\" placeholder=\\\"Blue\\\" style=\\\"text-transform: capitalize;\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n    \\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Material Price: </ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"price\\\" mode=\\\"md\\\" [(ngModel)]=\\\"price\\\" placeholder=\\\"125/27\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-label position=\\\"stacked\\\">Material Image: </ion-label>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-button fill=\\\"outline\\\" color=\\\"dark\\\" (click)='AccessCamera()'>\\n          <ion-icon name='camera'>Camera</ion-icon>\\n        </ion-button>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-button fill=\\\"outline\\\" color=\\\"dark\\\" (click)='AccessGallery()'>\\n            <ion-icon name='image'>Gallery</ion-icon>\\n          </ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <ion-img [src]='base64Image' *ngIf='base64Image'></ion-img>\\n    <ion-button color='dark' class=\\\"uploadbtn\\\" *ngIf='base64Image' (click)='upload()' expand=\\\"block\\\" fill=\\\"outline\\\" type=\\\"submit\\\">UPLOAD MATERIAL</ion-button>\\n  </form>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UploadMaterialsPage } from './upload-materials.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UploadMaterialsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UploadMaterialsPage]\n})\nexport class UploadMaterialsPageModule {}\n","module.exports = \".uploadbtn {\\n  margin-top: 15px;\\n  height: 40px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRtaW4vdXBsb2FkLW1hdGVyaWFscy9DOlxcUHJvamVjdHNcXE15IElvbmljIFByb2plY3RzXFxiaHVtaW5hcnJvd2ZhYi9zcmNcXGFwcFxccGFnZXNcXGFkbWluXFx1cGxvYWQtbWF0ZXJpYWxzXFx1cGxvYWQtbWF0ZXJpYWxzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvYWRtaW4vdXBsb2FkLW1hdGVyaWFscy91cGxvYWQtbWF0ZXJpYWxzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRtaW4vdXBsb2FkLW1hdGVyaWFscy91cGxvYWQtbWF0ZXJpYWxzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi51cGxvYWRidG4ge1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIGhlaWdodDogNDBweDtcclxufSIsIi51cGxvYWRidG4ge1xuICBtYXJnaW4tdG9wOiAxNXB4O1xuICBoZWlnaHQ6IDQwcHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController, NavController, Platform, LoadingController } from '@ionic/angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { AuthenticationService } from './../../../services/authentication.service';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file';\n\n\n@Component({\n  selector: 'app-upload-materials',\n  templateUrl: './upload-materials.page.html',\n  styleUrls: ['./upload-materials.page.scss'],\n})\nexport class UploadMaterialsPage implements OnInit {\n  // base64Image = 'https://jaytarpara.in/images/materials/AA1.png';\n  base64Image: any;\n  name: any;\n  mid: any;\n  color: any;\n  price: any;\n  owner = 'Bhumi Narrow Fab';\n  type = 'Fancy';\n\n  materialOwner: any[] = [\n    {\n      name : 'Bhumi Narrow Fab',\n    },\n    {\n      name : 'Matrushree Lace',\n    },\n    {\n      name : '23 Needle',\n    },\n  ];\n\n  materialType: any[] = [\n    {\n      name : 'Fancy',\n    },\n    {\n      name : 'Needle Lace',\n    },\n    {\n      name : 'Moti Lace',\n    },\n    {\n      name : 'Crosset',\n    },\n    {\n      name : 'Cut Work',\n    },\n  ];\n\n  constructor(\n    public auth: AuthenticationService,\n    public nav: NavController,\n    private platform: Platform,\n    private camera: Camera,\n    private transfer: FileTransfer,\n    public loadingController: LoadingController,\n    private menu: MenuController,\n  ) { }\n\n  ngOnInit() {\n    this.menu.enable(true, 'admin');\n  }\n\n  AccessCamera() {\n      this.camera.getPicture({\n      targetWidth: 512,\n      targetHeight: 512,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      destinationType: this.camera.DestinationType.DATA_URL\n    }).then((imageData) => {\n        this.base64Image = 'data:image/jpeg;base64,' + imageData;\n        console.log(this.base64Image);\n    }, (err) => {\n        console.log(err);\n    });\n  }\n\n   AccessGallery() {\n    this.camera.getPicture({\n       sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,\n       destinationType: this.camera.DestinationType.DATA_URL\n      }).then((imageData) => {\n        this.base64Image = 'data:image/jpeg;base64,' + imageData;\n        console.log(this.base64Image);\n      }, (err) => {\n        console.log(err);\n      });\n   }\n\n   capitalizeString(word: string) {\n    return word[0].toUpperCase() + word.substr(1).toLowerCase();\n   }\n\n   upload() {\n    const name = this.name;\n    let mid = this.mid;\n    let color = this.color;\n    const price = this.price;\n    const mowner = this.owner;\n    const mtype = this.type;\n\n    // tslint:disable-next-line:max-line-length\n    if (name == undefined || mid == undefined || mtype == undefined || color == undefined || price == undefined || mowner == undefined || name == '' || mid == '' || mtype == '' || color == '' || price == '' || mowner == '') {\n      this.auth.presentToast('Please fill all required fields', false, 'bottom', 1000, 'danger');\n    } else {\n      mid = mid.toUpperCase();\n      color = this.capitalizeString(color);\n      this.loadingController.create({\n        message: 'Uploading material',\n        mode: 'ios'\n      }).then((res) => {\n        res.present();\n        res.onDidDismiss().then((dis) => {\n\n        });\n      });\n\n      const imgName = Math.floor(Date.now() / 1000);\n\n      const fileTransfer: FileTransferObject = this.transfer.create();\n\n      const options: FileUploadOptions = {\n        fileKey: 'photo',\n        fileName: imgName + '.jpg',\n        chunkedMode: false,\n        mimeType: 'image/jpeg',\n        headers: {}\n      };\n\n      // tslint:disable-next-line:max-line-length\n      fileTransfer.upload(this.base64Image, `https://jaytarpara.in/mysql.php?callapi=1&process=uploadMaterial&name=${name}&mid=${mid}&color=${color}&price=${price}&mowner=${mowner}&material_type=${mtype}`, options).then(result => {\n        this.loadingController.dismiss();\n\n        if (JSON.parse(JSON.parse(JSON.stringify(result.response)))['success'] == 1) {\n          this.auth.adminTotalMaterials++;\n          this.auth.presentToast(JSON.parse(JSON.parse(JSON.stringify(result.response)))['message'], false, 'bottom', 1000, 'success');\n          this.nav.navigateForward('/all-materials');\n        } else {\n          this.auth.presentToast(JSON.parse(JSON.parse(JSON.stringify(result.response)))['message'], false, 'bottom', 1000, 'danger');\n        }\n      }, (error) => {\n        console.log('error' + JSON.stringify(error));\n      });\n    }\n  }\n}\n"],"sourceRoot":""}